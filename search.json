[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Seasonal Adjustment in R",
    "section": "",
    "text": "Welcome\nThis is the website for the work-in-progress edition of Seasonal Adjustment in R, an online Book by James Livsey and Christoph Sax."
  },
  {
    "objectID": "index.html#about-the-book",
    "href": "index.html#about-the-book",
    "title": "Seasonal Adjustment in R",
    "section": "About the book",
    "text": "About the book\nThis book will teach you how to do seasonal adjustment in R, using X13-ARIMA-SEATS.\nSpecifically, the audience will be both R users who want to learn about seasonal adjustment as well as seasonal adjustment practitioners, who are interested in using R. The book will be tailored to the practical applications of seasonal adjustment within R. It presents background material and references for the theoretically minded reader. The main focus, however, is on concrete problems and examples.\nWe will showcase methods through detailed examples with associated code. This presentation allows the academic level to be quite broad; understood by undergraduates all the way through advanced Ph.D. students."
  },
  {
    "objectID": "index.html#key-features-of-the-book",
    "href": "index.html#key-features-of-the-book",
    "title": "Seasonal Adjustment in R",
    "section": "Key features of the book",
    "text": "Key features of the book\n\nEach chapter include a concrete practical problem and shows how X-13 can be used to address it\nTeach-by-example format\nContinuous connection of X-13ARIMA-SEATS input with R input and vice-versa\nFundamental theoretical material is referenced throughout (mainly as an option)\nFor each example given the book will give answers, code and provide data"
  },
  {
    "objectID": "10-introduction.html#seasonal-adjustment",
    "href": "10-introduction.html#seasonal-adjustment",
    "title": "\n1  Introduction\n",
    "section": "Seasonal Adjustment",
    "text": "Seasonal Adjustment\nMany time series exhibit a regular seasonal pattern over the year. US unemployment, for example, is usually higher from January to March, and again in June and July. Similarly, retail sales tend to peak with the Christmas season. This seasonal behavior is regualar and predictable. The goal of seasonal adjustment is to estimate and remove the seasonal component from a time series.\nWhy do we want to do this? Seasonal data is usulally hard to interpret. For example, if we want to learn from the US unemployment rate if the economy is moving out of a recession during certain months, we want the labor market data be free from seasonal effects."
  },
  {
    "objectID": "10-introduction.html#x13-arima-seats",
    "href": "10-introduction.html#x13-arima-seats",
    "title": "\n1  Introduction\n",
    "section": "X13-ARIMA-SEATS",
    "text": "X13-ARIMA-SEATS\nFundamentally, seasonal adjustment decomposes a time series into a trend, a seasonal and an irregular component and removes the seasonal component from the data. There are many ways to perform this decomposition. This book focuses on a particular one, X13-ARIMA-SEATS (X13, for short), the seasonal adjustment software developed by the United States Census Bureau. X13 offers an elaborate toolkit to perform the most advanced seasonal adjustment."
  },
  {
    "objectID": "10-introduction.html#r",
    "href": "10-introduction.html#r",
    "title": "\n1  Introduction\n",
    "section": "R",
    "text": "R\nThis book will teach you how to use X13 in R, through the seasonal package, which offers access to all features of X13, with a ususally much simpler syntax. The required X-13 binaries are provided by the x13binary package, and automatically included in seasonal. The next chapter provides a minimal example to get you started in less than five minutes."
  },
  {
    "objectID": "10-introduction.html#target-audience",
    "href": "10-introduction.html#target-audience",
    "title": "\n1  Introduction\n",
    "section": "Target audience",
    "text": "Target audience\nWe write this book for two primary audiences: The first focus is on current practitioners of seasonal adjustment who are interested in learning how to implement in R. This audience includes researchers from statistical agencies who want to include the scripting language features of R to evaluate properties of their seasonal adjustments.\nThe second focus is on current R users who want to learn seasonal adjustment. We are able to leverage the readers knowledge of R to make learning seasonal adjustment easier. We will feature interesting applications outside of official statistics, such as the seasonal adjustment of business data.\nThe book tries to be as practical as possilbe. It usually starts with a practical problems, and shows how to solve it in a cookbook style. Formal derviations are usually avoided. Each chapeter ends with a case study that discusses a real-live example of the topic."
  },
  {
    "objectID": "10-introduction.html#history-of-x13",
    "href": "10-introduction.html#history-of-x13",
    "title": "\n1  Introduction\n",
    "section": "History of X13",
    "text": "History of X13\nIn official statistics, seasonal adjustment has a long tradition. The original X-11 software was developed by the US Census Bureau in the 1960s, and later improved by Statistics Canada (Dagum 1980). Subsequent software packages by the US Census Bureau were called X-12-ARIMA (Findley et al. 1998) and X-13ARIMA-SEATS (or X-13, for short) (Monsell 2007). Today, X-11 is still used as a name for filter-based seasonal adjustment methods within X-13. Meanwhile, TRAMO-SEATS, developed by the Bank of Spain (Caporello, Maravall, and Sánchez 2001), offers an alternative model-based approach to seasonal adjustment.\nIn its most recent version, X-13 offers these two seasonal adjustment methods in a single command-line tool, written in Fortran. The National Bank of Belgium has created an alternative Java-based implementation called JDemetra+ (National Bank of Belgium, Deutsche Bundesbank, Eurostat 2017) which is also widely deployed by statistical agencies. One of either the TRAMO-SEATS or X-11 method of seasonal adjustment is used by almost all (government) statistical offices throughout the world."
  },
  {
    "objectID": "10-introduction.html#acknowledgements",
    "href": "10-introduction.html#acknowledgements",
    "title": "\n1  Introduction\n",
    "section": "Acknowledgements",
    "text": "Acknowledgements\nWe are indebted to the the United States Census Bureau, for X-13ARIMA-SEATS and support for research around the software. Help and support by Brian Monsell is particularily acknowledged.\nseasonal was originally developed for use at the Swiss State Secretariat of Economic Affairs. It has been greatly improved over time thanks to suggestions and support from Matthias Bannert, Freya Beamish, Vidur Dhanda, Alain Galli, Ronald Indergand, Preetha Kalambaden, Stefan Leist, James Livsey, Pinaki Mukherjee, Bruno Parnisari and many others. The related work on the x13binary package facilitated (automated) deployment thanks to the R package system, CRAN as well as GitHub for the x13prebuilt repository."
  },
  {
    "objectID": "10-introduction.html#references",
    "href": "10-introduction.html#references",
    "title": "\n1  Introduction\n",
    "section": "References",
    "text": "References\n\n\n\n\nCaporello, Gianluca, Agustin Maravall, and Fernando J Sánchez. 2001. “Program TSW Reference Manual.” 0112. Banco de España Madrid. https://ideas.repec.org/p/bde/wpaper/0112.html.\n\n\nDagum, Estela Bee. 1980. The x-11-ARIMA Seasonal Adjustment Method. Statistics Canada, Seasonal Adjustment; Time Series Staff.\n\n\nFindley, David F, Brian C Monsell, William R Bell, Mark C Otto, and Bor-Chung Chen. 1998. “New Capabilities and Methods of the x-12-ARIMA Seasonal-Adjustment Program.” Journal of Business & Economic Statistics 16 (2): 127–52.\n\n\nMonsell, B. 2007. “The x-13A-s Seasonal Adjustment Program.” In Proceedings of the 2007 Federal Committee on Statistical Methodology Research Conference. http://www.fcsm.gov/07papers/Monsell.II-B.pdf.\n\n\nNational Bank of Belgium, Deutsche Bundesbank, Eurostat. 2017. JDemetra+: Econometric Software for Seasonal Adjustment and Other Time Series Methods. Eurostat. https://ec.europa.eu/eurostat/cros/content/download."
  },
  {
    "objectID": "11-getting-started.html#installation",
    "href": "11-getting-started.html#installation",
    "title": "\n2  Getting started\n",
    "section": "\n2.1 Installation",
    "text": "2.1 Installation\nIf you use R installing X-13ARIMA-SEATS from CRAN is as easy as installing any other R package (Sax and Eddelbuettel 2018):\ninstall.packages(\"seasonal\")"
  },
  {
    "objectID": "11-getting-started.html#a-minimal-example",
    "href": "11-getting-started.html#a-minimal-example",
    "title": "\n2  Getting started\n",
    "section": "\n2.2 A minimal example",
    "text": "2.2 A minimal example\nOnce the package is installed it can be loaded in the usual way:\n\nlibrary(seasonal)\n\nThe seas() function provides the core functionality of the package. By default, seas calls the automatic procedures of X-13 to perform a seasonal adjustment that works well in most circumstances:\n\nseas(AirPassengers)\n#> \n#> Call:\n#> seas(x = AirPassengers)\n#> \n#> Coefficients:\n#>           Weekday          Easter[1]         AO1951.May  MA-Nonseasonal-01  \n#>          -0.00295            0.01777            0.10016            0.11562  \n#>    MA-Seasonal-12  \n#>           0.49736\n\nThe first argument of seas is a time series of class ts. ts objects are frequently used in base R and are useful to store monthly, quarterly or annual data. The AirPassengers example series is included in base R, and shows monthly totals of international airline passengers from 1949 to 1960. seas() returns a seas object that contains the necessary information on the adjustment performed on this time series, we can assign it to a variable:\n\nm <- seas(AirPassengers)\n\nThere are several functions and methods for \"seas\" objects. The final function returns the adjusted series. The plot method shows a plot with the unadjusted and the adjusted series.\n\nplot(m)\n\n\n\n\nAs you can see, the adjusted series is much less volatile than the original one. This is because the seasonal component was removed from the original series. But the adjusted series is not completely smooth, too. This is because it still contains the irregular component.\nThis is an important point about seasonal adjustment: It only removed regular, predictable movements, not irregular ones. In the adjusted series, we can see that there was a decrease in airline passengers both in 1953 an between 1957 and 1958. These decreases were impossible to discover in the original series.\nThe summary method displays an overview of the model, very similar to the one produced by R’s lm function:\n\nsummary(m)\n#> \n#> Call:\n#> seas(x = AirPassengers)\n#> \n#> Coefficients:\n#>                     Estimate Std. Error z value Pr(>|z|)    \n#> Weekday           -0.0029497  0.0005232  -5.638 1.72e-08 ***\n#> Easter[1]          0.0177674  0.0071580   2.482   0.0131 *  \n#> AO1951.May         0.1001558  0.0204387   4.900 9.57e-07 ***\n#> MA-Nonseasonal-01  0.1156204  0.0858588   1.347   0.1781    \n#> MA-Seasonal-12     0.4973600  0.0774677   6.420 1.36e-10 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> SEATS adj.  ARIMA: (0 1 1)(0 1 1)  Obs.: 144  Transform: log\n#> AICc: 947.3, BIC: 963.9  QS (no seasonality in final):    0  \n#> Box-Ljung (no autocorr.): 26.65   Shapiro (normality): 0.9908\n\nThe summary gives a short overview of adjustment model, and provides a few diagnostics. This book will help you do understand it more detail. The following section discusses some of the elements and relates them to the chapters in this book."
  },
  {
    "objectID": "11-getting-started.html#where-to-go-from-here",
    "href": "11-getting-started.html#where-to-go-from-here",
    "title": "\n2  Getting started\n",
    "section": "\n2.3 Where to go from here",
    "text": "2.3 Where to go from here\nseas(AirPassengers) produces a good seasonal adjustment of the airline passengers time series. If you are very new to seasonal adjustment, the automated routines of X13 and seasonal produce an adjustment that works well in most circumstances.\nThe command seas(AirPassengers) has invoked a large number of specs of X13. spec is X13 slang for a module within the software. X13 is build on top of 20 specs that are perform various subtasks of seasonal adjustment. Some specs are required most of the time (e.g., regression) while others are optional (e.g., seats) or purely technical (e.g., spans simply shortens the time series in use). Chapter 4 discusses the available specs in more detail.\nThis book teaches you how to use and fine-tune the individual specs, and deal with concrete data problems.\n\n2.3.1 Fundamentals\nSpecifically, the command seas(unemp) has invoked the following fundamental specs – they are involved in most adjustments, and are covered in the first part of the book:\n\nTransform\n\nA decision on initial transformation was made. The automated procedures concluded that a log-transformation was made and an multiplicative, rather than a additive seasonal adjustment model is estimated. Chapter 5 discusses the choices. Since transform is a relatively simple spec, it is a good starting point to get familiar with the spec idea.\n\nRegression\n\nAn automated model search concluded that AirPassengers is best modeled by an (0 1 1)(0 1 1) ARIMA model. Chapter 6 explains what that means an how such a model structure is determined and estimated.\n\nSEATS / X11\n\nSeasonal decomposition is performed by SEATS. SEATS is one of the two available options for decomposing a series, and discussed in more detail in Chapter 7. The alternative, X11, is discussed in Chapter 8.\n\n\n2.3.2 Data issues\nThe command seas(unemp) has also dealt with a various of data issues, which are covered in the second part of the book:\n\nHoliday\n\nSignificant Easter effects have been found in AirPassengers and were removed from the adjusted series as well. Moving holidays like Easter or Chinese New Year are an important topic in seasonal adjustment, since they may have a large impact on the behavior of many time series. For AirPassengers, the number of passengers is higher in months with Easter. Moving holiday effects will be discussed in Chapter 9.\n\nWeekday\n\nNot every month has the same number of weekdays. Since many activities (such as air travelling) are different bitween weekends and weekdays, this constitutes another predictable component. In AirPassengers, there are less passengers during a weekday than during a weekend, and the automated procedures decided to remove the effect. These effects are discussed in Chapter 10.\n\nOutliers\n\nCertain data points may me well out of the ordinary. These outliers are a problem for the modelling and adjustment process. An automated procedure scanned the series for outliers and found an additive outlier on May 1951. This outlier is shown in the plot above, too. Outliers are discussed in Chapter 11.\n\nSeasonal Breaks\n\nThe seasonal pattern in AirPassengers looks relatively stable. Some time series, however, show abrupt changes in the seasonal pattern. Chapter 12 discusses them an shows how to deal with seasonal breaks.\n\n\n2.3.3 Additional issues\nThe third part of the book deals with additional issues:\n\nPresence of seasonality\n\nWhile the presence of Seasonality in AirPassengers is obvious, this is not always the case. If a series has no seasonal pattern, there is no need for a seasonal adjustment. It it is adjusted anyway, the process simply adds noise to the series, and should be avoided. Chapter 13 shows how seasonality can be detected and how to decide whether an adjustment should be made or not.\n\nAnnual constraining\n\nUsually, seasonal adjustment may affect the annual values of a time series. In part, this is by design. The number of weekdays may differ between years, so the adjusted annual values may be different too. In part, this may an artifact of the adjustment process. X13 offers tools to enforce the annual values of the adjusted series to be the same as the original one. Chapter 14 shows how to constrain annual value and whether it is a good idea to do so.\n\nIndirect vs direct adjustment\n\nOften, seasonal adjustment may be performed on individual series, or on an aggregate of these series. X13 offers tools that let you compare these two possibilities. Chapter 15 discusses the options and help you to decide which one is better.\n\n\n2.3.4 Quality assessment\nAdjusting a series with automated procedure is easy. But is the resulting series a good adjustment? The fourth part helps you to decide between competing seasonal adjustment models.\n\nQuality measures\n\nIn the lower part, the summary of the adjustment model shows various quality measures: The AICc and BIC information criterion and the QS, the Box-Ljung and the Shapiro statistic. Non of them shows any significance (indicated by one or several stars), which is a good sign. Various quality measures and their interpretation is shown in Chapter 16.\n\nRevisions\n\nWhen comparing seasonal adjustment models, the stability of the model and the series is often an important consideration. One does not want to get a very different series with a new data point. X13 offers tools to analyse revisions. Chapter 17 discusses them and helps you to decide which model to pick."
  },
  {
    "objectID": "11-getting-started.html#references",
    "href": "11-getting-started.html#references",
    "title": "\n2  Getting started\n",
    "section": "\n2.4 References",
    "text": "2.4 References\n\n\n\n\nSax, Christoph, and Dirk Eddelbuettel. 2018. “Seasonal Adjustment by X-13ARIMA-SEATS in R.” Journal of Statistical Software 87 (11): 1–17. https://doi.org/10.18637/jss.v087.i11."
  },
  {
    "objectID": "12-how-to-use.html#overview-of-the-book",
    "href": "12-how-to-use.html#overview-of-the-book",
    "title": "\n3  How to use the book\n",
    "section": "\n3.1 Overview of the book",
    "text": "3.1 Overview of the book"
  },
  {
    "objectID": "12-how-to-use.html#the-seasonalbook-package",
    "href": "12-how-to-use.html#the-seasonalbook-package",
    "title": "\n3  How to use the book\n",
    "section": "\n3.2 The seasonalbook package",
    "text": "3.2 The seasonalbook package\nAn R package that supplements “Seasonal Adjustment in R”, and contains all data and examples.\nTo install:\nremotes::install_github(\"christophsax/seasonalbook\")\nExample series:\n\nlibrary(seasonalbook)\nplot(grocery)\n\n\n\n\nSome Examples: Chinese New Year, structural breaks, direct or indirect seasonal adjustment, SEATS or X-11."
  },
  {
    "objectID": "20-part-basics.html",
    "href": "20-part-basics.html",
    "title": "Basics",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\nThis section gets readers familiar with X-13ARIMA-SEATS. It begins by explaining the history and pedagogy of the software (Chapter 4). This leads directly into discussing the principal elements of X-13ARIMA-SEATS."
  },
  {
    "objectID": "21-overview.html#elements-of-x13",
    "href": "21-overview.html#elements-of-x13",
    "title": "4  Overview of the software",
    "section": "\n4.1 Elements of X13",
    "text": "4.1 Elements of X13\n\n\n\n\n\n\nflowchart LR\n  A[transform] --> B(regARIMA)\n  B --> C{Model choice}\n  C --> D[X11]\n  C --> E[SEATS]\n  style C fill:#56B4E9,color:#fff"
  },
  {
    "objectID": "21-overview.html#main-user-choices",
    "href": "21-overview.html#main-user-choices",
    "title": "4  Overview of the software",
    "section": "\n4.2 Main user choices",
    "text": "4.2 Main user choices\n\n4.2.1 Model\n\n4.2.2 Transform"
  },
  {
    "objectID": "21-overview.html#references",
    "href": "21-overview.html#references",
    "title": "4  Overview of the software",
    "section": "\n4.3 References",
    "text": "4.3 References"
  },
  {
    "objectID": "22-transform.html#multiplicative-or-additive-adjustment",
    "href": "22-transform.html#multiplicative-or-additive-adjustment",
    "title": "5  Transform",
    "section": "\n5.1 Multiplicative or additive adjustment?",
    "text": "5.1 Multiplicative or additive adjustment?\nX-13A-S has a built in statisitcal test to decide between log and no transformatin. This is done with an information criteria based statistical test. The choice is made by comparing the AICC value CITE of an Airline model fit, or user specified ARIMA model, to the log transformed series and the original series. For all practical purposes this is an effective choice and can be left to the program to decide. Note, if your series has negative values it can not be log transformed and no transform is automatically selected by X-13 when automatic transformation is asked for. Other restrictions on the allowed transformtions exisit and can be found in CITE but these situations are rare. We can see the results of the transformation tests by looking at specific inputs to the UDG file.\n\nlibrary(seasonal)\nm <- seas(AirPassengers)\nudg(m, c(\"aictest.trans.aicc.nolog\", \"aictest.trans.aicc.log\"))\n#> aictest.trans.aicc.nolog   aictest.trans.aicc.log \n#>                1021.1919                 987.3845\n\nWe see the AICC for log transformation is lower and hence selected. The summary of the seasonal object summary(m) tells us this with Transform: log displayed. The automatically selected transformation can also be found in many other places such as the HTML output with out(m) or the udg with agruement name aictrans such as udg(m, \"aictrans\").\nThe choice between log and none changes the type of seasonal decomposition that will occur and hence your interpretation of the seasonal factors. With no transformation, X13 will do an additive seasonal adjustment \\[X_t = T_t + S_t + I_t.\\] If a long transformation is selected, X13 will do a multiplicative adjustment \\[X_t = T_t \\cdot S_t \\cdot I_t.\\] This is major difference here is the way seasonal factors are interpreted and applied to the observed data to remove seasonality. For additive models the seasonal factor is subtracted from the original \\(X_t - S_t\\). For example, an observed value of 100 with seasonal factor of 3.2 would result in a seasonally adjusted value of \\(100 - 3.2 = 96.8\\). For multiplicative models the observed data is divided by the seasonal factor \\(\\frac{X_t}{S_t}\\). For example, an observed value of 100 with seasonal factor of 1.08 would result in a seasonally adjusted value of \\(100 / 1.08 = 92.59259\\). Hence for multiplicative models values of \\(S_t>1\\), decrease the observed value and \\(S_t < 1\\) increase it."
  },
  {
    "objectID": "22-transform.html#transform-options",
    "href": "22-transform.html#transform-options",
    "title": "5  Transform",
    "section": "\n5.2 Transform options",
    "text": "5.2 Transform options\nThe transform spec controls these options. Some primary options within this spec are\n\n\n\n\n\n\n\n\nSpec option\nUse\nExample values\ndefault\n\n\n\nfunction\nspecify transform\nnone, log, auto\nnone\n\n\ndata or file\nspecify prior adjustment factor\n(1.2, 1.1, …, .99)\n(1,1,…,1)\n\n\naicdiff\nadjust tolerance of AIC test for log transform\n0.0 3.0 -4.5\n-2.0"
  },
  {
    "objectID": "22-transform.html#case-study",
    "href": "22-transform.html#case-study",
    "title": "5  Transform",
    "section": "\n5.3 Case Study",
    "text": "5.3 Case Study\nConsider the situaiton where you are trying to decide on transform choices for monthly retail grocery store data. The series grocery is part of the seasonalbook package.\n\nlibrary(seasonalbook)\nplot(grocery)\n\n\n\n\nVisual inspection of the series shows no immediate reason to think we need to perform a log transform. There is possible seasonal hederoskadasity which could be mitigated by taking logs. Perform an X-11 adjustmnet with all of seasonal defaults.\n\nm <- seas(grocery, x11 = \"\")\nudg(m, c(\"aictest.trans.aicc.nolog\", \"aictest.trans.aicc.log\"))\n#> aictest.trans.aicc.nolog   aictest.trans.aicc.log \n#>                 4202.960                 4201.042\n\nThis is interesting since the AICC for no transformation is lower than the AICC for log transform.\n\ntransformfunction(m)\n#> [1] \"log\"\n\nThe default value for transform.aicdiff is -2 meaning the program slightly prefers log transform and the difference between the AICC values must exceed 2. In this situation we see the difference between the two AICC values is -1.917597. If you were to change this option to transform.aicdiff = 0 then the program selects no transform.\n\nm2 <- seas(grocery, x11 = \"\", transform.aicdiff = 2)\ntransformfunction(m2)\n#> [1] \"none\""
  },
  {
    "objectID": "23-regARIMA.html#outlier",
    "href": "23-regARIMA.html#outlier",
    "title": "6  regARIMA Model",
    "section": "\n6.1 Outlier",
    "text": "6.1 Outlier\nThere are many options you can modify when searching for outliers in your series. Some of the most practical options to start your exploration are the type, critical value and span that you would like to search.\nHere is an example of using span to limit the outlier search to the last few years of a series:\n\nm_span <- seas(AirPassengers,\n  outlier.types = c(\"ao\", \"ls\", \"tc\"),\n  outlier.critical = 4.0,\n  outlier.span = \"1958.jan, \")\nsummary(m_span)\n#> \n#> Call:\n#> seas(x = AirPassengers, outlier.types = c(\"ao\", \"ls\", \"tc\"), \n#>     outlier.critical = 4, outlier.span = \"1958.jan, \")\n#> \n#> Coefficients:\n#>                    Estimate Std. Error z value Pr(>|z|)    \n#> Weekday           -0.002644   0.000604  -4.377 1.20e-05 ***\n#> Easter[1]          0.021321   0.008395   2.540  0.01110 *  \n#> MA-Nonseasonal-01  0.235404   0.083756   2.811  0.00495 ** \n#> MA-Seasonal-12     0.543743   0.074644   7.284 3.23e-13 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> SEATS adj.  ARIMA: (0 1 1)(0 1 1)  Obs.: 144  Transform: log\n#> AICc: 965.3, BIC: 979.2  QS (no seasonality in final):    0  \n#> Box-Ljung (no autocorr.): 28.26   Shapiro (normality): 0.9829 .\n\nm_nospan <- seas(AirPassengers,\n  outlier.types = c(\"ao\", \"ls\", \"tc\"),\n  outlier.critical = 4.0)\nsummary(m_nospan)\n#> \n#> Call:\n#> seas(x = AirPassengers, outlier.types = c(\"ao\", \"ls\", \"tc\"), \n#>     outlier.critical = 4)\n#> \n#> Coefficients:\n#>                     Estimate Std. Error z value Pr(>|z|)    \n#> Weekday           -0.0029497  0.0005232  -5.638 1.72e-08 ***\n#> Easter[1]          0.0177674  0.0071580   2.482   0.0131 *  \n#> AO1951.May         0.1001558  0.0204387   4.900 9.57e-07 ***\n#> MA-Nonseasonal-01  0.1156204  0.0858588   1.347   0.1781    \n#> MA-Seasonal-12     0.4973600  0.0774677   6.420 1.36e-10 ***\n#> ---\n#> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n#> \n#> SEATS adj.  ARIMA: (0 1 1)(0 1 1)  Obs.: 144  Transform: log\n#> AICc: 947.3, BIC: 963.9  QS (no seasonality in final):    0  \n#> Box-Ljung (no autocorr.): 26.65   Shapiro (normality): 0.9908\n\nThe default critical value is set based on the length of the outlier span. Notice the MA-Nonseasonal-01 value when comparing m_span with m_nospan. We see the choice of span, and ultimately the choise to include an outlier in your model can have a dramatic effect on the estimated regARIMA parameters."
  },
  {
    "objectID": "23-regARIMA.html#how-to-use-the-regression-spec",
    "href": "23-regARIMA.html#how-to-use-the-regression-spec",
    "title": "6  regARIMA Model",
    "section": "\n6.2 How to use the regression spec",
    "text": "6.2 How to use the regression spec"
  },
  {
    "objectID": "23-regARIMA.html#table-of-all-regression-effects-available",
    "href": "23-regARIMA.html#table-of-all-regression-effects-available",
    "title": "6  regARIMA Model",
    "section": "\n6.3 Table of all Regression effects available",
    "text": "6.3 Table of all Regression effects available"
  },
  {
    "objectID": "23-regARIMA.html#case-study",
    "href": "23-regARIMA.html#case-study",
    "title": "6  regARIMA Model",
    "section": "\n6.4 Case study",
    "text": "6.4 Case study\nDecide if you should include AO in May 2014. Construct a simple user defined regressor to handle specific issue."
  },
  {
    "objectID": "24-seats.html",
    "href": "24-seats.html",
    "title": "7  SEATS",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\nIt is part of the course materials intended for Jan 21, 2023.\n\n\n\n\n\nHow to use the SEATS spec\nSEATS vs X11\nCase Study:\n\nFor SEATS, can be quite challenging since it relies heavily on seasonal ARIMA modeling."
  },
  {
    "objectID": "25-x11.html#additive-and-multiplicative-again",
    "href": "25-x11.html#additive-and-multiplicative-again",
    "title": "8  X11",
    "section": "\n8.1 Additive and multiplicative (again)",
    "text": "8.1 Additive and multiplicative (again)\nThe X-13ARIMA-SEATS development was highly motivated to study economic time series. As such, the default seasonal adjustment mode is multiplicative due to most seasonal economic time series displaying seasonal fluctuations that increase and decrease along with the level of the time series.\nIf your series does not have this feature then additive adjustment might be more appropriate. This can be changed in the mode argument of the x11 spec. For example, seas(x, x11.mode = 'add') will perform an additive x11 run. There exist two other models for decomposition, pseudo-additive and log additive. These are less common than additive and multiplicative models and are not the focus of this text. If your series has some extremely small values in certain months (quarters) then pseudo-additive models could be worth further investigation. It has been observed that when multiplicative seasonal adjustment produces more extreme values in conjunction with small seasonal factors then pseudo-additive adjustment should be explored. NEED TO SHOW USERS HOW TO VIEW THEIR EXTREME VALUES - D8.B TABLE DESIGNATIONS NEXT TO OBSERVATIONS. A good reference on the subject is Baxter (1994)."
  },
  {
    "objectID": "25-x11.html#filter-length",
    "href": "25-x11.html#filter-length",
    "title": "8  X11",
    "section": "\n8.2 Filter length",
    "text": "8.2 Filter length\nThe X11 spec also allows users to control the length of the trend and seasonal moving average filters used during the adjustment. Generally speaking, longer filters imply a more stable seasonal component and shorter filters a more changing seasonal pattern. Of course, a longer filter will use more data for the caluclation of components at each time point. This is an important observation and understanding it might help a user decide on a short or long filter. Since longer filters use more data there tend to be smaller revisions when a new data point is added. However, there will be revisions to data values further back.\nA shorter filter is just the opposite, they tend to produce smaller revisions but they do not extend as far back into the series. If a filter is not choosen by the user then automatic filter selection is used. To understand the length of a filter let’s look at the (finite) number of choice available in during an x11 adjustment. Table 8.1 shows the different filters available for the seasonal component and the trend component.\n\n\nTable 8.1: Filters available in X11\n\n\n\n\n\nValue\nDescription\n\n\n\ns3x1\n3×1 moving average\n\n\ns3x3\n3×3 moving average\n\n\ns3x5\n3×5 moving average\n\n\ns3x9\n3×9 moving average\n\n\ns3x15\n3×15 moving average\n\n\nstable\nStable seasonal filter. A single seasonal factor for each calendar month or quarter is generated by calculating the simple average of all the values for each month or quarter (taken after detrending and outlier adjustment).\n\n\nx11default\nA 3×3 moving average is used to calculate the initial seasonal factors in each iteration, and a 3×5 moving average to calculate the final seasonal factors."
  },
  {
    "objectID": "25-x11.html#extrem-value",
    "href": "25-x11.html#extrem-value",
    "title": "8  X11",
    "section": "\n8.3 Extrem value",
    "text": "8.3 Extrem value\n\n\n\n\n\n\nRelated concept: Outlier\n\n\n\nFIXME: explain how this is related to transform."
  },
  {
    "objectID": "25-x11.html#case-study",
    "href": "25-x11.html#case-study",
    "title": "8  X11",
    "section": "\n8.4 Case study",
    "text": "8.4 Case study\n\n\ntsbox::ts_plot(\n  s3x1 = predict(seas(AirPassengers, x11.seasonalma = \"s3x1\")),\n  s3x15 = predict(seas(AirPassengers, x11.seasonalma = \"s3x15\"))\n)"
  },
  {
    "objectID": "30-part-data-problems.html",
    "href": "30-part-data-problems.html",
    "title": "Data Problems",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\nIn part III we look at more in-depth at practical issues with seasonal adjustment. The focus is on concrete solutions to each situation presented. Each subsection will prominently feature a case study dedicated to each problem."
  },
  {
    "objectID": "31-holidays.html",
    "href": "31-holidays.html",
    "title": "9  Irregular holidays",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\nIt is part of the course materials intended for Jan 21, 2023.\n\n\n\n\n\nWhy should we adjust for holiday effects\nEaster adjustment\nUser defined adjustments (Chinese New Year, Diwali)\nCase Study: How to adjust for Ramadan (which is connected with some additional challenges)"
  },
  {
    "objectID": "32-trading-days.html",
    "href": "32-trading-days.html",
    "title": "10  Trading days",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\n\nWhy should we adjust for trading day effects\nSeven or two coefficient trading day\nUsing country specific calendars\nCase Study: Movie tickets (or another series with very clear trading day effects)"
  },
  {
    "objectID": "33-outliers.html",
    "href": "33-outliers.html",
    "title": "11  Outliers",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\n\nWhy care about outliers?\nAdditive outliers, level shifts, temporary changes"
  },
  {
    "objectID": "34-seasonal-breaks.html",
    "href": "34-seasonal-breaks.html",
    "title": "12  Seasonal breaks",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\n\nWhy to care about seasonal breaks?\nDetection of seasonal breaks\nCorrection for seasonal breaks"
  },
  {
    "objectID": "40-part-other-issues.html",
    "href": "40-part-other-issues.html",
    "title": "Other Issues",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\nPart IV investigates more holistic issues that practitioners face. The main focus is to give classical methodology to answer their problems. Since these types of issues can be highly specialized, we concentrate on known solutions to the topics."
  },
  {
    "objectID": "41-presence-of-seasonality.html",
    "href": "41-presence-of-seasonality.html",
    "title": "13  Presence of seasonality",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\nShould a series be seasonally adjusted at all?\nX-13AS removes seasonality from series, even if a series is not seasonal from the beginneing. If a series is not seasonal, the resulting series may be bad.\nFortunatly, X-13 contains a few tests that help users to decide if a series is is seasnal or not.\nBefore appying X-13AS ist may be necessary to descide if the series is seasonal.\n\n13.0.1 Avalabele Tests\nX13 offers has several formal checks:\n\nqs test\nids\nm7\n\nThe ids test is closely connected to m7, but the QS test is quite different. Which tests are preferrable, and how should a user descide if the tests are not aligned?\n\n13.0.2 ids test\nhttp://www.ons.gov.uk/ons/guide-method/method-quality/general-methodology/time-series-analysis/guide-to-seasonal-adjustment.pdf\n\nFrom ONS 18.2 A general criterion for existence of seasonality\nEmpirical research showed that the most appropriate test for seasonality is the “Combined test for the presence of identifiable seasonality”, given after table D8 of the output. In particular, one of the following statements will always appear:\n\nIDENTIFIABLE SEASONALITY PRESENT\nIDENTIFIABLE SEASONALITY PROBABLY NOT PRESEN\nIDENTIFIABLE SEASONALITY NOT PRESENT\n\nIt is recommended that a series is adjusted in the first two cases and not adjusted in the last one. However there are two cases where one might need to deviate from this practice:\n\nThis is the ids test shown below\n\n13.0.3 Case Study"
  },
  {
    "objectID": "42-annual-constraining.html",
    "href": "42-annual-constraining.html",
    "title": "14  Annual constraining",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\n\nShould the annual values be restrained?\nHow to use the force spec"
  },
  {
    "objectID": "43-indirect-vs-direct.html",
    "href": "43-indirect-vs-direct.html",
    "title": "15  Indirect vs direct adjustment",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\n\nShould the subcomponents of a series be adjusted separately?"
  },
  {
    "objectID": "50-part-quality-assessment.html",
    "href": "50-part-quality-assessment.html",
    "title": "Quality assessment",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\nThis section focuses on diagnostic tools for seasonal adjustment. This will be written as a stand-alone section as well as a continuance of prior sections. The idea here is that many readers may be interested in checking the quality of their adjustments but not need help performing it."
  },
  {
    "objectID": "51-quality-measures.html",
    "href": "51-quality-measures.html",
    "title": "16  Quality measures",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\n\nWhat is a good seasonal adjustment?\nM statistics\nOther statistics available in X13"
  },
  {
    "objectID": "52-revisions.html",
    "href": "52-revisions.html",
    "title": "17  Revisions",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\n\nHow to measure revisions?\nShould a model be re-estimated each period?\nHow to use the slidingspan and history spec"
  },
  {
    "objectID": "60-part-future.html",
    "href": "60-part-future.html",
    "title": "The future of seasonal adjustment",
    "section": "",
    "text": "You are reading an early draft of Seasonal Adjustment in R. This chapter is currently a dumping ground for ideas, and we don’t recommend reading it.\n\n\n\n\nThis short section outlines the future projects in the seasonal adjustment field. Daily or multiple seasonal adjustment plays a major role here. Ideally, examples of how to solve these problems are given.\n\nDaily adjustment\nMultivariate seasonal adjustment\nOther methods"
  },
  {
    "objectID": "99-status.html",
    "href": "99-status.html",
    "title": "Status of the book",
    "section": "",
    "text": "Current status of sections \n\n\n\n\n\n\nsection name\nstatus\ndue date\n\n\n\nA minimal example\ndrafting\n2022-12-21\n\n\nHow to use the book\ndrafting\n2022-12-21\n\n\nOverview of the software\ndrafting\n2022-12-21\n\n\nTransform\ndrafting\n2022-12-21\n\n\nX11\ndrafting\n2022-12-21\n\n\nregARIMA Model\ndrafting\n2022-12-21\n\n\nHolidays\ndrafting\n2023-01-21\n\n\nSEATS\ndrafting\n2023-01-21"
  }
]